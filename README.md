Unity Gimbal Controller Project

This project is aimed at implementing a customizable Gimbal controller, which allows the user to control the rotation, scale, and translation of game objects in 3D space. This document will guide you on how to navigate and use the project.

Project Structure

The project mainly consists of several scripts that work together to achieve the desired functionality. The core scripts in this project are:

GimbalControls.cs: Defines the input controls used by the Gimbal. It's generated by Unity's new input system.

Gimbal.cs: Contains the main logic for handling user input and controlling the transformations of game objects.

AxisController.cs: This is an abstract class that is extended by RotationAxisController, ScaleAxisController, and TranslationAxisController. These classes handle the individual logic for each type of transformation.

RotationAxisController.cs, ScaleAxisController.cs, TranslationAxisController.cs: These classes implement the AxisController abstract class and contain logic specific to their respective transformations.

FollowPosition.cs: A utility script that causes one object to continuously follow another, maintaining a specified offset.
		
Navigating the Project

The main scene for this project is GimbalScene. This scene contains an example of how the Gimbal controller can be used. The Gimbal game object in the hierarchy has the Gimbal script attached to it, which controls all the transformations. This game object contains four child game objects, Controlled Object, Rotation, Translation, and Scale. In the children of all objects except Controlled Object are their respective handles for X, Y, and Z axes, each handle has its corresponding AxisController child class attached.

Customization

You can customize the behavior of the Gimbal controller by modifying the public variables in the Gimbal inspector. For example, you can change the speed of rotation, scaling, and translation. If you want to use the Gimbal controller with other game objects, you can do so by adding the desired game object as a child of the Gimbal game object and updating the controlledObject field in the AxisController scripts.

Input

The input is handled using Unity's new input system. You can find the configuration for this in the GimbalControls.inputactions or GimbalControls.cs. Currently only the left mouse button is used for selection, and the mouse movement is used for transformation.

Materials and Rendering

Materials in our project are managed using Unity's Universal Rendering Pipeline and the Scriptable Rendering Pipeline system, with Material Property Blocks. This approach allows for individual color customization of each handle object, despite all of them sharing the same base material. The code for these material modifications can be found in the AxisController.cs script and its child classes.

Rendering depth is controlled by settings in our custom renderer, CustomForwardRenderer.asset. As a result, objects in the "Gimbal" layer are set to render behind other objects. When a "Gimbal" object is behind another, an override material defined in GimbalBehind Renderer Feature is used, applying a distinct color specified in RenderBehind.shadergraph. When the "Gimbal" object is in front of other objects, it uses the material set in the Unity inspector. This setup aids in creating an intuitive interaction experience within the scene. 

Please ensure the 'Enable GPU Instancing' option is checked on any materials that utilize this approach. This is essential to harness the performance benefits of using one base material.